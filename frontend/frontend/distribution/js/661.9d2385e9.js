"use strict";(self["webpackChunkfrontend"]=self["webpackChunkfrontend"]||[]).push([[661],{8661:function(e,t,o){o.r(t),o.d(t,{accessToken:function(){return s}});var a=o(4161);const r=()=>{if(console.log("Getting access token"),!n()&&"undefined"!==localStorage.getItem("access_token"))return localStorage.getItem("access_token");{if(console.log("Use refresh token"),null===localStorage.getItem("refresh_token")||"undefined"===localStorage.getItem("refresh_token"))return void localStorage.clear();const e=localStorage.getItem("refresh_token");(0,a.Z)({method:"get",url:`${{NODE_ENV:"production",BASE_URL:"/"}.URL_BASE}/refresh`,headers:{refresh_token:e}}).then((e=>{console.log(e.data),localStorage.setItem("access_token",e.data.access_token),localStorage.setItem("refresh_token",e.data.refresh_token),localStorage.setItem("expires_at",e.data.expires_at)}))}},n=()=>(console.log(Date.now()/1e3),console.log(localStorage.getItem("expires_at")),Date.now()/1e3>localStorage.getItem("expires_at")-60),s=r()}}]);
//# sourceMappingURL=661.9d2385e9.js.map